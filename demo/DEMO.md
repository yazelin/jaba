# 呷爸 Demo 流程說明

本文檔說明呷爸 (jaba) AI 午餐訂便當系統的主要使用流程。

---

## 1. 今日訂餐看板

首頁顯示今日訂餐總覽，包含店家資訊、訂單列表與品項統計。

![今日看板](03-dashboard-summary.png)

**功能說明：**
- 顯示今日營業店家
- 美食評論區：LINE 群組中的點餐對話
- 訂單列表：即時顯示所有群組的訂單
- 品項統計：彙整各品項訂購數量
- 總金額統計
- LINE QRCode：方便加入呷爸好友

---

## 2. LINE 群組點餐

使用者透過 LINE 群組與呷爸對話完成訂餐。

**點餐流程：**
1. 將呷爸 LINE Bot 加入群組
2. 發送「啟用」讓呷爸加入白名單
3. 發送「開單」開始群組點餐
4. 與呷爸對話訂餐：
   - 「我要雞腿便當」
   - 「+1」（跟單上一個人的餐點）
   - 「珍奶 微微 L」（飲料縮寫）
   - 「不要了」（取消自己的訂單）
5. 發送「收單」結束點餐並顯示統計

**特價品項：**
- 訂購時自動套用優惠（買一送一、第二杯折扣等）

---

## 3. 超級管理員頁面

管理員可透過 Web 介面管理店家、訂單與付款。

![管理頁總覽](02-manager-page-overview.png)

**介面組成：**
- **左側**：店家列表，可展開查看菜單
- **中間**：與呷爸管理員助手對話
- **右側**：群組選擇器、訂單統計、付款狀態

**管理功能：**
- 選擇群組查看訂單
- 編輯、刪除使用者訂單
- 代理點餐
- 標記付款狀態
- 透過 AI 對話設定店家：
  - 「今天吃 CoCo」- 設定今日店家
  - 「新增店家 xxx」- 建立新店家

---

## 4. 菜單辨識流程

### 4.1 上傳菜單圖片

點擊「上傳菜單圖片」按鈕，選擇店家並上傳圖片。

![菜單上傳對話框](04-menu-upload-dialog.png)

- 可選擇現有店家或輸入新店家名稱
- 支援 JPG、PNG 格式，最大 10MB

### 4.2 AI 辨識中

上傳後，呷爸會自動分析菜單圖片。

![菜單辨識中](05-menu-recognizing.png)

- AI 會識別品項名稱、價格、規格
- 自動偵測特價促銷標示

### 4.3 差異預覽

辨識完成後顯示差異預覽，可選擇性套用變更。

![差異預覽](06-menu-diff-preview.png)

**差異標示：**
- **綠色（新增品項）**：辨識到的新品項，預設勾選
- **黃色（修改品項）**：價格或名稱有變更，預設勾選
- **紅色（可刪除品項）**：現有菜單中有但新圖片沒拍到的品項，預設不勾選

**操作說明：**
- 勾選要套用的變更
- 點擊「確認並儲存」套用勾選的項目
- 或點擊「取消上傳」放棄變更
- 可切換到「完整編輯模式」進行細部調整

### 4.4 完整編輯模式

需要細部調整時，可切換到完整編輯模式。

![完整編輯模式](08-menu-full-edit.png)

- 可編輯品項名稱、價格、規格
- 可調整尺寸變體（M/L 等）
- 儲存後會覆蓋整個菜單

---

## 5. 管理頁含菜單展開

展開店家可查看完整菜單內容。

![管理頁含菜單](07-manager-with-menu.png)

- 點擊店家名稱展開/收合菜單
- 可直接查看各分類品項
- 支援啟用/停用店家

---

## 系統流程總覽

```
管理員設定今日店家
       ↓
LINE 群組發送「開單」開始點餐
       ↓
群組成員與呷爸對話訂餐
       ↓
訂單即時同步到看板
       ↓
發送「收單」結束點餐
       ↓
管理員標記付款狀態
       ↓
完成訂餐流程
```
