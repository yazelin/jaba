## ADDED Requirements

### Requirement: 特價品項訂單計價
系統 SHALL 根據菜單品項的 `promo` 設定，正確計算訂單金額。

#### Scenario: 買一送一計價
- **GIVEN** 品項設定為買一送一，單價 $50
- **WHEN** 使用者訂購 2 杯
- **THEN** 訂單金額為 $50（買一送一，2杯收1杯價）

#### Scenario: 買一送一奇數杯計價
- **GIVEN** 品項設定為買一送一，單價 $50
- **WHEN** 使用者訂購 3 杯
- **THEN** 訂單金額為 $100（第1-2杯買一送一$50 + 第3杯原價$50）

#### Scenario: 第二杯固定價計價
- **GIVEN** 品項設定為第二杯 $10，單價 $50
- **WHEN** 使用者訂購 2 杯
- **THEN** 訂單金額為 $60（$50 + $10）

#### Scenario: 第二杯固定價奇數杯計價
- **GIVEN** 品項設定為第二杯 $10，單價 $50
- **WHEN** 使用者訂購 3 杯
- **THEN** 訂單金額為 $110（$50 + $10 + $50）

#### Scenario: 第二杯半價計價
- **GIVEN** 品項設定為第二杯半價（ratio=0.5），單價 $60
- **WHEN** 使用者訂購 2 杯
- **THEN** 訂單金額為 $90（$60 + $30）

#### Scenario: 限時特價計價
- **GIVEN** 品項設定為限時特價 $45（原價 $60）
- **WHEN** 使用者訂購 2 杯
- **THEN** 訂單金額為 $90（$45 × 2）

#### Scenario: 無促銷正常計價
- **GIVEN** 品項無 `promo` 設定，單價 $50
- **WHEN** 使用者訂購 2 杯
- **THEN** 訂單金額為 $100（$50 × 2）

### Requirement: 訂單品項促銷資訊記錄
系統 SHALL 在訂單品項中記錄促銷資訊，以便查詢和核對。

#### Scenario: 記錄促銷類型
- **GIVEN** 使用者訂購有促銷的品項
- **WHEN** 建立訂單
- **THEN** 訂單品項包含 `promo_type` 欄位
- **AND** 包含 `promo_label` 顯示文字

#### Scenario: 記錄折扣金額
- **GIVEN** 使用者訂購有促銷的品項
- **WHEN** 建立訂單
- **THEN** 訂單品項包含 `discount` 欄位
- **AND** 顯示節省金額

#### Scenario: 訂單明細顯示促銷
- **GIVEN** 訂單包含促銷品項
- **WHEN** 查看訂單明細
- **THEN** 顯示促銷標籤和折扣金額
