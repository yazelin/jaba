## 1. 資料結構擴充
- [x] 1.1 擴充菜單品項結構，新增 `promo` 欄位定義促銷規則
- [x] 1.2 更新 menu-management spec 定義 promo 欄位結構

## 2. AI 辨識 Prompt 調整
- [x] 2.1 更新 `menu_recognition_prompt.md` 中的辨識提示
- [x] 2.2 要求 AI 識別特價品項並輸出 `promo` 欄位
- [x] 2.3 要求 AI 將特價品項歸類至「特價優惠」分類

## 3. 後端差異比對邏輯
- [x] 3.1 新增 `compare_menus()` 函式，比較現有菜單與辨識結果
- [x] 3.2 產生差異清單：新增、修改（價格/名稱/促銷變更）、可能移除
- [x] 3.3 修改 `/api/recognize-menu` 回傳 `diff` 差異資訊

## 4. 前端差異預覽介面
- [x] 4.1 設計差異預覽 UI：新增（綠）、修改（黃）、刪除（紅）
- [x] 4.2 每個差異項目提供勾選框，預設勾選新增與修改
- [x] 4.3 現有品項顯示「標記刪除」選項
- [x] 4.4 特價品項顯示促銷標籤

## 5. 特價品項 UI
- [x] 5.1 促銷標籤樣式（.promo-tag）
- [x] 5.2 差異預覽中顯示促銷標籤
- [x] 5.3 CSS 樣式新增

## 6. 儲存邏輯調整
- [x] 6.1 修改 `/api/save-menu`，支援差異模式儲存
- [x] 6.2 只更新使用者勾選的項目
- [x] 6.3 正確保存 `promo` 欄位

## 7. 訂單計價邏輯
- [x] 7.1 新增 `calculate_promo_price()` 函式
- [x] 7.2 實作買一送一計價（2杯收1杯價，3杯收2杯價）
- [x] 7.3 實作第二杯折扣計價（第一杯原價 + 第二杯折扣價）
- [x] 7.4 限時特價直接使用 promo_price
- [x] 7.5 訂單品項記錄 promo_type、promo_label、discount 欄位

## 8. 測試與驗證
- [x] 8.1 程式碼完成
- [x] 8.2 手動測試差異比對功能
- [x] 8.3 手動測試特價計價功能
